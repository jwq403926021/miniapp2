<view class="page">
  <view class="page__bd">
    <view class="weui-cells__title">保单详情</view>
    <view class="weui-cells weui-cells_after-title">
      <view class="weui-cell weui-cell_input weui-cell_vcode">
        <view class="weui-cell__hd">
          <view class="weui-label">工单号</view>
        </view>
        <view class="weui-cell__bd">
          <text class="weui-input readonly">{{orderId}}</text>
        </view>
      </view>
      <view class="weui-cell weui-cell_input weui-cell_vcode">
        <view class="weui-cell__hd">
          <view class="weui-label">工单状态</view>
        </view>
        <view class="weui-cell__bd">
          <text class="weui-input readonly">{{statusMap[status]}}</text>
        </view>
      </view>

      <view class="weui-cell weui-cell_input">
        <view class="weui-cell__hd">
          <view class="weui-label">客户姓名</view>
        </view>
        <view class="weui-cell__bd">
          <input class="weui-input" bindinput="inputgetName" data-name='taskData.customName'
                 value="{{taskData.customName}}" placeholder="客户姓名"/>
        </view>
      </view>
      <view class="weui-cell weui-cell_input weui-cell_vcode">
        <view class="weui-cell__hd">
          <view class="weui-label">客户手机</view>
        </view>
        <view class="weui-cell__bd">
          <input class="weui-input" bindinput="inputgetName" data-name='taskData.customMobile'
                 value="{{taskData.customMobile}}" placeholder="请输入客户手机"/>
        </view>
        <view class="weui-cell__ft" wx:if="{{id != null && taskData.customMobile}}">
          <view class="field-right-btn" data-phone="{{taskData.customMobile}}" bindtap="dialPhone">
            <van-icon name="phone"></van-icon>
          </view>
        </view>
      </view>
    </view>

    <view class="weui-cells__title">报案信息</view>
    <view class="weui-cells weui-cells_after-title">
      <view class="weui-cell">
        <view class="weui-cell__bd" wx:if="{{(id == null || status == '12') && role == '1'}}">
          <textarea maxlength="-1" wx:if="{{!show}}" class="weui-textarea" bindinput="inputgetName" data-name='taskData.information'
                    value="{{taskData.information}}" disabled="{{role != '1' || (id != null && status != '12')}}" placeholder="请输入报案信息" style="height: 7em"/>
        </view>
        <view class="weui-cell__bd" style="min-height: 7em; font-size: 14px;" wx:if="{{role != '1' || (id != null && status != '12')}}">
          {{taskData.information || '-'}}
        </view>
      </view>
    </view>

    <view class="button-sp-area two-btn-wrap" wx:if="{{(id == null || status == '12') && role == '1'}}">
      <button type="primary" bindtap="commitSubmit">提交</button><!-- 新建 提交 -->
      <button data-save="true" bindtap="commitSubmit">暂存</button>
    </view>
    <view class="button-sp-area" wx:if="{{id != null && status == '1' && role == '20'}}">
      <button type="primary" bindtap="managerSubmit">确认</button><!-- 负责人 确认 -->
    </view>

  </view>

  <van-popup show="{{ show }}" position="bottom" overlay="{{ true }}">
    <van-area area-list="{{ areaList }}" value="{{ region }}" bind:confirm="onConfirm" bind:cancel="onCancel"/>
  </van-popup>
</view>
